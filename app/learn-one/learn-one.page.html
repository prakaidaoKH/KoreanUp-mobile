<ion-header>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Krub:wght@500&display=swap"
    rel="stylesheet"
  />
</ion-header>

<ion-content class="ion-padding">
  <ion-row>
    <ion-col>
      <ion-icon name="chevron-back-outline" (click)="goTo()"></ion-icon>
    </ion-col>
    <ion-col size="auto">
      <label style="font-size: 18px"> {{course.courseName}} </label>
    </ion-col>
    <ion-col></ion-col>
  </ion-row>

  <ion-row *ngIf="course.courseVideo !== ''">
    <ion-col>
      <!-- <div id="video_course1"></div> -->
      <div class="center">
        <video
          id="video_learn"
          width="320"
          height="240"
          [src]="course.courseVideo"
          type="video/mp4"
          controls
          autoplay="true"
          (ended)="videoPlayEnded()"
        ></video>
      </div>
    </ion-col>
  </ion-row>

  <ion-row *ngIf="course.courseVideo === ''">
    <ion-col>
      <div id="center">
        <a>ไม่มีพบวิดีโอ</a>
      </div>
    </ion-col>
  </ion-row>

  <ion-row>
    <ion-col>
      <div class="position" id="BD">
        <ion-row>
          <div id="PS">
            <p style="margin-left: 10px" id="detail">
              &nbsp;{{course.courseDetail}}
            </p>
          </div>
        </ion-row>
      </div>
    </ion-col>
  </ion-row>

  <div
    id="BD"
    (click)="exam()"
    *ngIf="take_exam === null"
    [ngClass]="{'disabled': disableExam}"
  >
    <div id="PS">
      <ion-label style="margin-left: 10px"> แบบทดสอบ </ion-label>
      <ion-icon
        *ngIf="videoPlay !== 'end'"
        name="lock-closed-outline"
        style="margin-left: 190px; font-size: 18px"
      ></ion-icon>
      <ion-icon
        name="lock-open-outline"
        *ngIf="videoPlay === 'end'"
        style="margin-left: 190px; font-size: 18px"
      ></ion-icon>
    </div>
  </div>

  <div id="BD" (click)="examHistory()" *ngIf="take_exam !== null">
    <div id="PS">
      <ion-row>
        <ion-col>
          <ion-row>
            <ion-label style="margin-left: 10px"> แบบทดสอบ </ion-label>
          </ion-row>
          <ion-label style="margin-left: 10px; font-size: 12px">
            ทำแบบทดสอบแล้ว
          </ion-label>
        </ion-col>
        <ion-col>
          <ion-row>
            <ion-label style="margin-left: 70px; font-size: 12px">
              คะแนน {{take_exam.score}} /10
            </ion-label>
            <ion-label style="margin-left: 90px; font-size: 14px">
              ดูเฉลย
            </ion-label>
          </ion-row>
        </ion-col>
      </ion-row>
    </div>
  </div>

  <!-- <ion-fab slot="fixed" vertical="bottom" horizontal="end">
    <ion-fab-button>
      <ion-icon name="chatbubbles-outline" (click)="setOpen(true)"></ion-icon>
    </ion-fab-button>
    <ion-modal [isOpen]="isModalOpen">
      <ng-template>
        <ion-header>
          <ion-toolbar>
            <ion-title>สอบถามแอดมิน</ion-title>
            <ion-buttons slot="end">
              <ion-button (click)="setOpen(false)">ปิด</ion-button>
            </ion-buttons>
          </ion-toolbar>
        </ion-header>
        <ion-content class="ion-padding">
          <div *ngFor="let cm of comments">
            <ion-list *ngIf="cm.status !== ''">
              <ion-item lines="none">
                <a id="time" slot="end">{{cm.create_date}}&nbsp;&nbsp;</a>
                <a slot="end" class="message" id="parker">
                  <label>{{cm.message}}</label>
                </a>
              </ion-item>
            </ion-list>

            <ion-list *ngIf="cm.status === ''">
              <ion-item lines="none">
                <a slot="start" class="messageAD">
                  <label>{{cm.message}}</label> </a
                ><a id="time" slot="start">&nbsp;{{cm.create_date}}</a>
              </ion-item>
            </ion-list>
          </div>
        </ion-content>
        <ion-footer>
          <ion-item lines="none">
            <div id="block">
              <ion-input [(ngModel)]="comment.message"></ion-input>
            </div>

            <ion-icon
              name="send-sharp"
              style="color: #ffc250"
              (click)="onClickSend(member.MemberID,course.courseID,comment.message)"
            ></ion-icon>
          </ion-item>
        </ion-footer>
      </ng-template>
    </ion-modal>
  </ion-fab> -->
</ion-content>
